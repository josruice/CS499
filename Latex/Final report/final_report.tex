\documentclass[12pt,a4paper,twoside]{article}
% Change "article" to "report" to get rid of page number on title page
\usepackage{amsmath,mathtools,amsfonts,amsthm,amssymb}
\usepackage{setspace}
\usepackage{Tabbing}
\usepackage{cite}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{extramarks}
\usepackage{chngpage}
\usepackage{fourier}
\usepackage{soul,color}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{graphicx,float,wrapfig}
\usepackage[utf8]{inputenc}
\usepackage{sidecap}
\usepackage{marvosym}
\usepackage{tikz, tikz-qtree}
\usepackage{tabularx, multirow}
\usepackage{enumerate}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{zref}
\usepackage{pgffor}
\definecolor{gray99}{gray}{.99}
\usepackage{listings}
\usepackage[english]{babel}
\usepackage{placeins}
\usepackage{tikz}
\usepackage{tikz-qtree}
\usepackage{xspace}
\usepackage{mathtools}
\usepackage{tabulary}
\lstset{
	language=Matlab,
	backgroundcolor=\color{gray99},
	tabsize=3,
	frame=single,
	keywordstyle=\ttfamily\bfseries\color{RoyalBlue},
	commentstyle=\ttfamily\color{ForestGreen},
	stringstyle=\ttfamily\color{Gray},
	breaklines=true,
	showstringspaces=false,
	basicstyle=\small\ttfamily,
	emph={label},
	xleftmargin=22pt,
	framexleftmargin=22pt,
	framexrightmargin=0pt,
	framexbottommargin=4pt,
	numbers=left,
	stepnumber=1
}
\usepackage{caption}
\usepackage{xstring}
\DeclareCaptionFont{black}{\color{black}}{\bfseries}
\DeclareCaptionFormat{listing}{\parbox{\textwidth}{\hspace{8pt}#1#2#3}}
\captionsetup[lstlisting]{format=listing,labelfont=black,textfont=black, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}

% In case you need to adjust margins:
\topmargin=-0.45in      %
\evensidemargin=0in     %
\oddsidemargin=0in      %
\textwidth=6.5in        %
\textheight=9.5in       %
\headsep=0.25in         %

% Homework Specific Information
\newcommand{\hmwkTopic}{Automatic Material Recognition Using Computer Vision}
\newcommand{\hmwkTitle}{\hmwkTopic}
\newcommand{\hmwkDueDate}{\today}
\newcommand{\hmwkClass}{Trabajo Final de Grado}
\newcommand{\hmwkDegree}{Grado en Ingeniería Informática}
\newcommand{\hmwkYear}{Curso 2013 / 2014}
\newcommand{\hmwkSchool}{Escola Tècnica Superior d’Enginyeria Informàtica}
\newcommand{\hmwkUniversity}{Universitat Politècnica de València}
\newcommand{\hmwkAuthorNameA}{David A. Forsyth}
\newcommand{\hmwkAuthorEmailA}{daf@illinois.edu}
\newcommand{\hmwkAuthorNameB}{Roberto Paredes}
\newcommand{\hmwkAuthorEmailB}{rparedes@dsic.upv.es}
\newcommand{\hmwkAuthorNameC}{José Vicente Ruiz Cepeda}
\newcommand{\hmwkAuthorEmailC}{josruice@upv.es}

% Setup the header and footer
\pagestyle{fancy}                                                       %
% \lhead{\hmwkAuthorNameC}                                                 %
% \chead{}  %
% \rhead{\hmwkTopic}     
%                                                 %
% \lfoot{}                                                %
% \cfoot{\hyperlink{toc}{\thepage}}%
% \rfoot{}                          %

\fancyhead[L,R,C]{}
\fancyhead[LO]{\small\hmwkAuthorNameC}
\fancyhead[RE]{\small\hmwkTopic}
\fancyfoot[L,R,C]{}
\fancyfoot[RO,LE]{\small\hyperlink{toc}{\thepage}}

\renewcommand{\headrulewidth}{0pt}% disable the underline of the header part

% \renewcommand\headrulewidth{0.4pt}                                      %
% \renewcommand\footrulewidth{0.4pt}                                      %


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Make title
\title{
    \vspace{-1in}
    \begin{figure}[ht!]
        \centering
        \begin{minipage}{0.42\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Images/UPV.png}
        \end{minipage}    
        \hspace{0.15\textwidth}
        \begin{minipage}{0.42\textwidth}
            \centering
            \includegraphics[width=\textwidth]{Images/ETSINF.png}
        \end{minipage}
    \end{figure}
    \vspace{0.5in}
    \textcolor{gray}{\Large\hmwkSchool} \\
    \textcolor{gray}{\Large\hmwkUniversity} \\
    \vspace{1.2in}
    \textmd{\textbf{\huge\hmwkTitle}}\\
    \vspace{0.3in}
    \large\hmwkClass \\
    \vspace{0.15in}
    \Large\hmwkDegree
    \vspace{2.5in}
}
\date{}
\author{
	\begin{minipage}{0.48\textwidth}
		\vspace{-3cm}
		\centering
		{\small UIUC advisor \\}
		\textbf{\hmwkAuthorNameA} \\\small<\texttt{\href{mailto:daf@illinois.edu}{\hmwkAuthorEmailA}}> 
	\end{minipage}
	\begin{minipage}{0.48\textwidth}
		\vspace{-3cm}
		\centering
		{\small UPV advisor \\}
		\textbf{\hmwkAuthorNameB} \\\small<\texttt{\href{mailto:rparedes@dsic.upv.es}{\hmwkAuthorEmailB}}>
	\end{minipage} \\\\\\
	\begin{minipage}{0.48\textwidth}
		\vspace{-1.5cm}
		\centering
		{\small Student \\}
		\textbf{\hmwkAuthorNameC} \\\small<\texttt{\href{mailto:josruice@upv.es}{\hmwkAuthorEmailC}}>
	\end{minipage} \\\\\\
    \textcolor{gray}{\large\hmwkYear}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\begin{singlespace}

\begin{titlepage}
\maketitle
\thispagestyle{empty}
\newpage\null\thispagestyle{empty}\newpage % Empty page after title.
\end{titlepage}


% Abstract.
\section*{Resumen}
\emph{La habilidad de identificar los materiales de los objetos del mundo real es clave para los seres humanos. Por ello, un sistema automático con esta capacidad sería un gran paso en el camino hacia la simulación de la visión humana. Este trabajo describe una nueva aproximación para intentar resolver este problema aún abierto, donde la idea clave es el uso de propiedades inferibles a través de las imágenes como paso intermedio para reconocer materiales.} \\

\emph{El algoritmo se basa en la extracción y cuantización de descriptores \emph{SIFT}, que son usados para entrenar \emph{SVMs} en el reconocimiento de propiedades de los materiales, tanto táctiles como de forma, en diferentes escalas. Finalmente, modelos basados en \emph{Naive Bayes} y \emph{SVMs} son entrenados y comparados para clasificar materiales a partir de las propiedades. A pesar del alto costo del marcado, esta aproximación ofrece interesantes resultados intermedios y precisión competitiva con otros métodos utilizados sobre el mismo conjunto de imágenes.} \\

\textbf{Palabras clave:} Vision por Computador, reconocimiento de materiales, SVM, SIFT.

\vspace{2cm}

\section*{Abstract}
\emph{The ability to correctly identify the materials of objects in the real world is key in human's life. Therefore, an automatic system with that skill would be a great step in the path to simulate human vision. This work describes a new approach to try to solve this still open problem where the key idea is the use of image-inferable properties as an intermediate step to recognize materials.} \\

\emph{The algorithm is based on the extraction and quantization of \emph{SIFT} descriptors, which are later used to train \emph{SVMs} to recognize material properties, both of touch and shape, at different scales. Finally, models based on \emph{Naive Bayes} and \emph{SVMs} are trained and compared in terms of material recognition from the properties. Despite of the high cost of the markup, this approach offers interesting intermediate results and competitive accuracy compared with other methods applied to the same image dataset.} \\

\textbf{Keywords:} Computer Vision, material recognition, SVM, SIFT. 

\clearpage

% Uncomment the \tableofcontents and \newpage lines to get a Contents page
% Uncomment the \setcounter line as well if you do NOT want subsections
%       listed in Contents
%\setcounter{tocdepth}{1}
\hypertarget{toc}{}
\tableofcontents
\newpage

% When problems are long, it may be desirable to put a \newpage or a
% \clearpage before each homeworkProblem environment


\clearpage

% Own commands:
\newcommand{\checkEmpty}[3]{
    \normalexpandarg
    \exploregroups
    \IfStrEq{#1}{}{#2}{#3}
}

\newcommand{\datasetPath}{../../Dataset}

\newcommand{\e}[1]{\emph{#1}\xspace}

\crefformat{footnote}{#2\footnotemark[#1]#3} % Required for footnotes with href.

\newcommand{\imageSizeSingle}{0.30}
\newcommand{\dataSizeSingle}{0.65}
\newcommand{\spaceSizeSingle}{0.02}
\newcommand{\inputImage}[8]{
\begin{figure}[!ht]
    \centering
    \begin{minipage}{\imageSizeSingle\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../../Dataset/\matName/\imgNumber.png}
    \end{minipage}
    \hspace{\spaceSizeSingle\textwidth}
    \begin{minipage}{\dataSizeSingle\textwidth}
        \textbf{\large \matName \xspace \imgNumber}:

        #7
        \begin{itemize}
            \item \textbf{Fine}: #1, #2.
            \item \textbf{Medium}: #3, #4.
            \item \textbf{Coarse}: #5, #6.
        \end{itemize}
        #8
    \end{minipage}
\end{figure}
\FloatBarrier    
}

\newcommand{\imageSizeDouble}{0.45}
\newcommand{\spaceSizeDouble}{0.05}
\newcommand{\plotTwoImages}[8]{
    \begin{figure}[!ht]
        \centering
        \begin{minipage}{\imageSizeDouble\textwidth}
            \centering
            \includegraphics[width=\textwidth]{#1}
            \checkEmpty{#2}{}{\caption{#2}}
            \label{#3}
        \end{minipage}
        \hspace{\spaceSizeDouble\textwidth}
        \begin{minipage}{\imageSizeDouble\textwidth}
            \centering
            \includegraphics[width=\textwidth]{#4}
            \checkEmpty{#5}{}{\caption{#5}}
            \label{#6}
        \end{minipage}
        \checkEmpty{#7}{}{\caption{#7}}
        \label{#8}
    \end{figure}
    \FloatBarrier
}

\newcommand{\imageSizeMini}{0.1}
\newcommand{\spaceSizeMini}{-0.015}
\newcommand{\plotminifigure}[1]
{
\begin{minipage}{\imageSizeMini\textwidth}
    \centering
    \includegraphics[width=\textwidth, height=\textwidth]{#1}
\end{minipage}
\hspace{\spaceSizeMini\textwidth}
}

\newcommand{\plotpropertiesimages}[2]
{
    \begin{figure}[!ht]
        \foreach \n in {#2} {\plotminifigure{\n}}
        \caption{{\large \textbf{#1}}}
    \end{figure}
    \FloatBarrier
}

\newcommand{\imageSizeAll}{0.077}
\newcommand{\spaceSizeAll}{-0.008}
\newcommand{\plotminifigureall}[1]
{
\begin{minipage}{\imageSizeAll\textwidth}
    \centering
    \includegraphics[width=\textwidth, height=\textwidth]{#1}
\end{minipage}
\hspace{\spaceSizeAll\textwidth}
}

\newcommand{\plotpropertiesimagesall}[3]
{
    \begin{figure}[!ht]
        \foreach \n in {#3} {\plotminifigureall{\n}}
        \caption{#1}
        \label{#2}
    \end{figure}
    \FloatBarrier
}

\newcommand{\plotgnu}[3]
{
    \begin{figure}[!ht]
        \centering
        \includegraphics[width=0.8\textwidth, 
                         trim=50 50 0 50, clip]{#1}
        \checkEmpty{#2}{}{\caption{#2}}
        \label{#3}
    \end{figure}
    \FloatBarrier
}

\newcommand{\plotmatlabbarchart}[3]
{
    \begin{figure}[!ht]
        \centering
        \includegraphics[width=\textwidth, 
                         trim=75 65 75 0, clip]{#1}
        \checkEmpty{#2}{}{\caption{#2}}
        \label{#3}
    \end{figure}
    \FloatBarrier
}

\newcommand{\plotmatlabconfusion}[3]
{
    \begin{figure}[!ht]
        \centering
        \includegraphics[width=\textwidth, 
                         trim=0 0 0 0, clip]{#1}
        \checkEmpty{#2}{}{\caption{#2}}
        \label{#3}
    \end{figure}
    \FloatBarrier
}

%%%%%%%%
\input{introduction}
\input{dataset}
\input{algorithm}
\input{approach}
\input{engineering}
\input{results}
\input{conclusionsAndFuture}

\bibliography{final_bibliography}
\bibliographystyle{abbrv}

\begin{appendix}
    \include{markup}
    \include{properties}
\end{appendix}

\end{singlespace}
\end{document}